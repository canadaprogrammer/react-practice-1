(this["webpackJsonpreact-for-beginners"]=this["webpackJsonpreact-for-beginners"]||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(11),a=n.n(s),i=n(7),j=n(2),o=n(6),u=n.n(o),b=n(8),m=n(4),l=n(5),d=n.n(l),v=n(1);var O=function(e){var t=e.id,n=e.coverImg,c=e.title,r=e.year,s=e.rating,a=e.summary,j=e.genres;return Object(v.jsxs)("div",{className:d.a.movieWrapper,children:[Object(v.jsx)("div",{className:d.a.image,children:Object(v.jsx)("img",{src:n,alt:c})}),Object(v.jsxs)("div",{className:d.a.content,children:[Object(v.jsx)("h2",{className:d.a.title,children:Object(v.jsxs)(i.b,{to:"/movie/".concat(t),children:[c," (",r,") - ",s]})}),Object(v.jsx)("p",{className:d.a.summary,children:a}),Object(v.jsxs)("p",{children:["[",j.reduce((function(e,t){return"".concat(e,", ").concat(t)})),"]"]})]})]})};var x=function(){var e=Object(c.useState)(!0),t=Object(m.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),a=Object(m.a)(s,2),i=a[0],j=a[1],o=Object(c.useState)(1),l=Object(m.a)(o,2),x=l[0],h=l[1],p=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yts.mx/api/v2/list_movies.json?minimum_rating=8.5&sort_by=rating&limit=20&page=".concat(t));case 2:return e.next=4,e.sent.json();case 4:n=e.sent,j(n.data.movies),r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p(x)}),[x]),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("h1",{children:["Movies"," ",Object(v.jsxs)("span",{className:d.a.pageButtons,children:[Object(v.jsx)("button",{onClick:function(){x>1&&(h((function(e){return e-1})),r(!0))},disabled:1===x,children:"Prev"}),n?null:"Page: ".concat(x),Object(v.jsx)("button",{onClick:function(){h((function(e){return e+1})),r(!0)},children:"Next"})]})]}),n?Object(v.jsx)("h2",{children:"Loading..."}):Object(v.jsx)("div",{className:d.a.moviesContainer,children:i.map((function(e){return Object(v.jsx)(O,{id:e.id,coverImg:e.medium_cover_image,title:e.title,summary:e.summary,genres:e.genres,year:e.year,rating:e.rating},e.id)}))})]})};var h=function(e){var t=e.coverImg,n=e.title,c=e.year,r=e.rating,s=e.summary,a=e.genres;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:n}),Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:t,alt:n})}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Year:"})," ",c]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Description:"})," ",s]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Rating:"})," ",r]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Genres: "}),a.reduce((function(e,t){return"".concat(e,", ").concat(t)}))]})]})};var p=function(){var e=Object(j.g)().id,t=Object(c.useState)(!0),n=Object(m.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(),i=Object(m.a)(a,2),o=i[0],l=i[1],d=Object(c.useCallback)(Object(b.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://yts.mx/api/v2/movie_details.json?movie_id=".concat(e));case 2:return t.next=4,t.sent.json();case 4:n=t.sent,l(n.data.movie),s(!1);case 7:case"end":return t.stop()}}),t)}))),[e]);return Object(c.useEffect)((function(){d()}),[d]),Object(v.jsx)("div",{children:r?Object(v.jsx)("h1",{children:"Loading..."}):Object(v.jsx)(h,{coverImg:o.medium_cover_image,title:o.title,summary:o.description_full,genres:o.genres,year:o.year,rating:o.rating})})};var g=function(){return Object(v.jsx)(i.a,{basename:"/react-practice-1",children:Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{path:"/",element:Object(v.jsx)(x,{})}),Object(v.jsx)(j.a,{path:"/movie/:id",element:Object(v.jsx)(p,{})})]})})};a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(g,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={pageButtons:"Movies_pageButtons__3VKpP",moviesContainer:"Movies_moviesContainer__yDbEv",movieWrapper:"Movies_movieWrapper__1-ADY",image:"Movies_image__23nLI",content:"Movies_content__3m3Sr",title:"Movies_title__1nyNv",summary:"Movies_summary__AlZYy"}}},[[18,1,2]]]);
//# sourceMappingURL=main.4563e30a.chunk.js.map